let iframesCount = 0,
    iframesLoaded = 0;
var $;

function init() { if (void 0 !== window.frames.Map) { iframesCount++; let e = document.getElementsByName("Map")[0];
        $(e).on("load", function() { checkForIframesLoaded() }) } if (void 0 !== window.frames.Player) { iframesCount++; let e = document.getElementsByName("Player")[0];
        $(e).on("load", function() { checkForIframesLoaded() }) } if (void 0 !== window.frames.Journal) { iframesCount++; let e = document.getElementsByName("Journal")[0];
        $(e).on("load", function() { checkForIframesLoaded() }) } }

function checkForIframesLoaded() { if (iframesLoaded++, console.log("iframesCount:" + iframesCount + " -- iframesLoaded:" + iframesLoaded), iframesLoaded === iframesCount)
        for (let e = 0; e < window.frames.length; e++) window.frames[e].postMessage("hello", "*") }
window.addEventListener("message", function(e) { for (let o = 0; o < window.frames.length; o++) window.frames[o].postMessage(e.data, "*") }),
    function() { var e = document.createElement("SCRIPT");
        e.src = "https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js", e.type = "text/javascript", e.onload = function() { $ = window.jQuery, init() }, document.getElementsByTagName("head")[0].appendChild(e) }();