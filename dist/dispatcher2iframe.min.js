let $,iframesCount=0,iframesLoaded=0;const iframes=["Map","Player","Journal"];function checkForAllIframesLoaded(){if(++iframesLoaded==iframesCount)for(let e=0;e<window.frames.length;e++)window.frames[e].postMessage("hello","*")}window.addEventListener("message",function(e){for(let a=0;a<window.frames.length;a++)window.frames[a].postMessage(e.data,"*")});class iframeLoadingState{constructor(e){this.iframe=e,this.iframeDoc=e.contentDocument||e.contentWindow.document,this.check()}check(){iframesCount++,"complete"==this.iframeDoc.readyState?checkForAllIframesLoaded():$(this.iframe).on("load",function(){checkForAllIframesLoaded()})}}function init(){iframes.forEach(e=>{if(void 0!==window.frames[e]){new iframeLoadingState(document.getElementsByName(e)[0])}})}!function(){const e=document.createElement("SCRIPT");e.src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js",e.type="text/javascript",e.onload=function(){$=window.jQuery,init()},document.getElementsByTagName("head")[0].appendChild(e)}();